---
import { Container, type ISidebarItem } from '@coffic/cosy-ui';
import AppLayout from './AppLayout.astro';

export interface Props {
  title: string;
  description: string;
  lang: string;
}

const { title, description, lang } = Astro.props;

// 控制台侧边栏配置
const getDashboardSidebar = (lang: string): ISidebarItem => {
  return {
    href: `/users`,
    text: lang === 'zh-cn' ? '控制台' : 'Dashboard',
    items: [
      {
        href: `/users`,
        text: lang === 'zh-cn' ? '用户管理' : 'User Management',
      },
      {
        href: `/users/create`,
        text: lang === 'zh-cn' ? '创建用户' : 'Create User',
      },
    ],
  };
};
---

<AppLayout
  title={title}
  py="none"
  pt="xl"
  description={description}
  sidebar={getDashboardSidebar(lang)}>
  <Container padding="lg" width="full" height="screen" background="none">
    <slot />
  </Container>
</AppLayout>
