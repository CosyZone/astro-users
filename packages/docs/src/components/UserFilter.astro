---
import { Button } from '@coffic/cosy-ui';

export interface Props {
    usernameFilter?: string;
    roleFilter?: string;
    limit: number;
}

const { usernameFilter, roleFilter, limit } = Astro.props;
---

<div class="section">
    <h2>ğŸ” ç­›é€‰ç”¨æˆ·</h2>
    <form method="GET" class="filter-form">
        <input
            type="text"
            name="username"
            placeholder="ç­›é€‰ç”¨æˆ·åï¼ˆåŒ…å«å…³é”®è¯ï¼‰"
            value={usernameFilter || ''}
        />
        <select name="role">
            <option value="">æ‰€æœ‰è§’è‰²</option>
            <option value="admin" selected={roleFilter === 'admin'}
                >ç®¡ç†å‘˜</option
            >
            <option value="user" selected={roleFilter === 'user'}
                >æ™®é€šç”¨æˆ·</option
            >
            <option value="moderator" selected={roleFilter === 'moderator'}
                >ç‰ˆä¸»</option
            >
        </select>
        <input
            type="number"
            name="limit"
            placeholder="æ¯é¡µæ•°é‡"
            value={limit}
            min="1"
            max="100"
        />
        <Button type="submit" variant="primary">ç­›é€‰</Button>
        {(usernameFilter || roleFilter) && <a href="/admin">æ¸…é™¤ç­›é€‰</a>}
    </form>
</div>

<style>
    .section {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
    }

    .filter-form {
        display: flex;
        gap: 10px;
        align-items: center;
        margin-bottom: 20px;
    }

    .filter-form input,
    .filter-form select {
        padding: 8px 12px;
        border: 1px solid #d1d5db;
        border-radius: 4px;
        font-size: 14px;
    }
</style>
