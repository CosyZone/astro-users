---
import { Button } from '@coffic/cosy-ui';

export interface Props {
    usernameFilter?: string;
    roleFilter?: string;
    limit: number;
}

const { usernameFilter, roleFilter, limit } = Astro.props;
---

<div class="section">
    <h2>🔍 筛选用户</h2>
    <form method="GET" class="filter-form">
        <input
            type="text"
            name="username"
            placeholder="筛选用户名（包含关键词）"
            value={usernameFilter || ''}
        />
        <select name="role">
            <option value="">所有角色</option>
            <option value="admin" selected={roleFilter === 'admin'}
                >管理员</option
            >
            <option value="user" selected={roleFilter === 'user'}
                >普通用户</option
            >
            <option value="moderator" selected={roleFilter === 'moderator'}
                >版主</option
            >
        </select>
        <input
            type="number"
            name="limit"
            placeholder="每页数量"
            value={limit}
            min="1"
            max="100"
        />
        <Button type="submit" variant="primary">筛选</Button>
        {(usernameFilter || roleFilter) && <a href="/admin">清除筛选</a>}
    </form>
</div>

<style>
    .section {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
    }

    .filter-form {
        display: flex;
        gap: 10px;
        align-items: center;
        margin-bottom: 20px;
    }

    .filter-form input,
    .filter-form select {
        padding: 8px 12px;
        border: 1px solid #d1d5db;
        border-radius: 4px;
        font-size: 14px;
    }
</style>
