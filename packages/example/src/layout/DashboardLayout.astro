---
import { Container, type ISidebarItem } from '@coffic/cosy-ui';
import AppLayout from './AppLayout.astro';

export interface Props {
  title: string;
  description: string;
  lang: string;
}

const { title, description, lang } = Astro.props;

// 控制台侧边栏配置
const getDashboardSidebar = (lang: string): ISidebarItem => {
  return {
    href: `/${lang}/dashboard`,
    text: lang === 'zh-cn' ? '控制台' : 'Dashboard',
    items: [
      {
        href: `/${lang}/dashboard`,
        text: lang === 'zh-cn' ? '首页' : 'Home',
      },
      {
        href: `/${lang}/dashboard/users`,
        text: lang === 'zh-cn' ? '用户管理' : 'User Management',
      },
      {
        href: `/${lang}/dashboard/visit-logs`,
        text: lang === 'zh-cn' ? '访问日志' : 'Visit Logs',
      },
    ],
  };
};
---

<AppLayout
  title={title}
  py="none"
  pt="xl"
  description={description}
  sidebar={getDashboardSidebar(lang)}>
  <Container padding="lg" width="full" height="full" background="accent/10">
    <slot />
  </Container>
</AppLayout>
